<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <title>æ‰‹æ©Ÿæƒæ QR Code / æ¢ç¢¼</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- html5-qrcode -->
    <script src="https://unpkg.com/html5-qrcode"></script>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            padding: 10px;
        }
        #reader {
            width: 100%;
            max-width: 400px;
            margin: auto;
        }
        #result {
            margin-top: 15px;
            font-size: 18px;
            color: green;
            word-break: break-all;
        }
    </style>
</head>
<body>

<h2>ğŸ“· æƒæ QR Code / æ¢ç¢¼</h2>

<div id="reader"></div>

<div id="result">å°šæœªæƒæ</div>

<script>
    function onScanSuccess(decodedText, decodedResult) {
        document.getElementById("result").innerText =
            "æƒæçµæœï¼š" + decodedText;

        // è‹¥åªæƒ³æƒæä¸€æ¬¡å°±åœæ­¢
        html5QrcodeScanner.clear();
    }

    function onScanFailure(error) {
        // æƒæå¤±æ•—æ™‚å¯å¿½ç•¥ï¼Œé¿å…ç•«é¢ä¸€ç›´è·³éŒ¯èª¤
    }

    const html5QrcodeScanner = new Html5QrcodeScanner(
        "reader",
        {
            fps: 10,
            qrbox: { width: 250, height: 250 },
            rememberLastUsedCamera: true,
            supportedScanTypes: [
                Html5QrcodeScanType.SCAN_TYPE_CAMERA
            ]
        },
        false
    );

    html5QrcodeScanner.render(onScanSuccess, onScanFailure);
</script>

</body>
</html>
